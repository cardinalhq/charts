# Default values for loki-mcp
# This is a YAML-formatted file.

# Image configuration
image:
  repository: public.ecr.aws/cardinalhq.io/loki-mcp
  tag: ""
  pullPolicy: IfNotPresent

# Image pull secrets for private registries
imagePullSecrets: []

# Service configuration
service:
  type: ClusterIP
  port: 8080

# Loki configuration
# REQUIRED: You must provide the Loki server URL
# Note: All loki configuration (url and headers) is stored in a Kubernetes Secret
# and injected into the pod via envFrom for enhanced security
loki:
  # REQUIRED: Loki server URL (e.g., "http://loki.monitoring:3100" or "https://loki.example.com:3100")
  # Stored as LOKI_URL in the loki-config secret
  url: ""
  # Optional HTTP headers to send with Loki requests
  # Headers are stored as LOKI_HEADER_<KEY> in the loki-config secret
  # Header names are converted to uppercase with hyphens replaced by underscores
  # Example:
  #   headers:
  #     Authorization: "Bearer token123"        # Becomes LOKI_HEADER_AUTHORIZATION
  #     X-Scope-OrgID: "tenant1"                # Becomes LOKI_HEADER_X_SCOPE_ORGID
  headers: {}

# CardinalHQ configuration
# REQUIRED: You must provide a CardinalHQ API key
cardinal:
  # REQUIRED: CardinalHQ API key for fetching OpenAI and Anthropic keys
  apiKey: ""
  secret:
    name: "cardinal-api-key"
    create: true

# Lakerunner configuration (optional)
lakerunner:
  # Lakerunner API host for query validation (optional)
  apiHost: ""

# Resource limits and requests
resources:
  requests:
    cpu: 500m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 1Gi
